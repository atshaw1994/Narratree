
<% resource = local_assigns[:resource] || (defined?(resource) && resource) || @resource %>
<% resource_name = local_assigns[:resource_name] || (defined?(resource_name) && resource_name) || @resource_name %>
<% devise_mapping = local_assigns[:devise_mapping] || (defined?(devise_mapping) && devise_mapping) || @devise_mapping %>

<% if resource && resource_name && devise_mapping %>
    <div style="width: 100%;">
        <%= form_with(model: resource, as: resource_name, url: session_path(resource_name), html: { class: 'devise-form', data: { turbo: false } }) do |f| %>
            <% if resource && resource.errors.any? %>
                <div class="alert alert-danger">
                    <ul>
                    <% resource.errors.full_messages.each do |msg| %>
                        <li><%= msg %></li>
                    <% end %>
                    </ul>
                </div>
            <% end %>
            <div class="mb-3">
                <%= f.label :email, class: 'form-label' %>
                <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control' %>
            </div>
            <div class="mb-3">
                <%= f.label :password, class: 'form-label' %>
                <%= f.password_field :password, autocomplete: "current-password", class: 'form-control' %>
            </div>
            <% if devise_mapping.rememberable? %>
                <div class="mb-3 form-check">
                <%= f.check_box :remember_me, class: 'form-check-input' %>
                <%= f.label :remember_me, class: 'form-check-label' %>
                </div>
            <% end %>
            <hr>
            <div class="mb-3">
                <%= f.submit "Log in", class: 'signup-form-submit-button', style: "border: none;" %>
            </div>
            <div class="text-center mt-2">
                <%= link_to "Forgot your password?", new_password_path(resource_name), class: 'link-secondary' %>
            </div>
        <% end %>
    </div>
<% end %>
